<!doctype html>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>Lazyload by vvo</title>
  <link rel="stylesheet" href="stylesheets/styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="build/lazyload.min.js"></script
  <body>
    <div class="wrapper">
      <header>
        <h1>Lazyload</h1>
        <p>Lazyload images, iframes, widgets with a ~1kb standalone script.</p>

        <p class="view"><a href="https://github.com/vvo/lazyload">View the Project on GitHub <small>vvo/lazyload</small></a></p>

        <ul>
          <li><a href="https://github.com/vvo/lazyload/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/vvo/lazyload/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/vvo/lazyload">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a name="Why lazyload?" class="anchor" href="#Why lazyload?"><span class="octicon octicon-link"></span></a>Why lazyload?</h3>

<p>When your webpage has 100 images, 3 iframes and 2 widgets, how many of them will be seen by your visitors? You don't know.</p>

<p>Still, browsers will download every resources of your webpage. Because
that's the way the web works today.</p>

<p>Lazyloading resources on a website helps reducing the number of requests
issued by browsers when parsing your pages.</p>

<p>This standalone, ~1kb script only loads the resources that are visible in the viewport.</p>

<p>All you have to do is include the lazyload.min.js in you webpage. At the top for maximum compatibility (ask for details).</p>

<p>This webpage demonstrates different ways to use <a href="https://github.com/vvo/lazyload">vvo/lazyload</a>.</p>

<h3>Images</h3>

<p>All the images you are seeing are loaded when they are near 200px ofthe current viewport bounds.</p>

<p>Now scroll down.</p>

<p><u>Some images:</u></p>

<img
  src=data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
  data-src=img/01.jpg
  onload=lzld(this) />
<img
  src=data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
  data-src=img/02.jpg
  onload=lzld(this) />
<img
  src=data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
  data-src=img/03.jpg
  onload=lzld(this) />
<img
  src=data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
  data-src=img/04.jpg
  onload=lzld(this) />

<p>Because we have a 200px offset, lazyloading is invisible to the user.</p>

<p>No fancy fadeIn when the image loads, sorry. But you could easily implement it with the custom-callback feature.</p>

<p><strong>Code</strong>:</p>

<script src="https://gist.github.com/vvo/9ea6cc6ed7f31941acdb.js"></script>

<p>As you can see, we are using data-URI based blank images while waiting for the real image to be displayed.</p>

<p>You could also use any image you want, a loader, a blank gif. We recommend using data-URI so that you can have one less request.</p>

<h3>Iframes</h3>

<p>The very same technique for images can be used for iframes.</p>

<p>A lot of iframes are crap we want to put at the bottom, so now we can also delay their loading untill our visitors really needs them.</p>

<p>Scroll for some iframes demos that were lazyloaded while you are reading this.</p>

<p><u>Lazyload test suite:</u></p>
<iframe
  src=about:blank
  data-src=test/test.html
  width=100%
  onload=lzld(this)></iframe>

<p><u>Random iframe:</u></p>
<iframe
  src=about:blank
  data-src=iframe.html
  width=100%
  onload=lzld(this)></iframe>

<p><strong>Code</strong>:</p>
<script src="https://gist.github.com/vvo/c4742ad6593c142df363.js"></script>

<p>As you can see, syntax is similar to the image example, easy!</p>

<h3>3rd party Widgets</h3>

<p>OMG 3rd party content is slow, there's even a <a href="http://www.stevesouders.com/p3pc/">blogpost</a> from Steve Souders.</p>

<p>How many times are they really used? You don't know, lazyload them!</p>

<p><u>Twitter widget:</u></p>

<a class="twitter-timeline" href="https://twitter.com/search?q=lazyload" data-widget-id="347103121933234176">Tweets about "lazyload"</a>
<script>
lazyload(document.querySelectorAll('.twitter-timeline')[0], function() {
  initTwitter(document,"script","twitter-wjs");
});

function initTwitter(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}};
</script>

<p><strong>Code</strong>:</p>

<script src="https://gist.github.com/vvo/942ee17395a20ae275b9.js"></script>

<p>You can use lazyload in the same ways you would use his daddy: <a href="https://github.com/vvo/in-viewport#inviewport">vvo/in-viewport</a>.</p>

<p>Lazyload is based on <a href="https://github.com/vvo/in-viewport#inviewport">vvo/in-viewport</a> because lazyloading an element is only a few steps more than
knowing when an element is visible in the viewport.</p>

<h3>hidpi images</h3>

<p>Depending on your devicePixelRatio, you get a funny cat or an even funny cat.</p>

<p>Open <a href=http://bit.ly/vvo-lazyload>http://bit.ly/vvo-lazyload</a> on your
IPAD/Android to see the difference.</p>

<p><u>hidpi example:</u></p>
<script>
window.lzldHidpi = lazyload({
  src: chooseSrc
});

function chooseSrc(elt) {
  if(window.devicePixelRatio > 1) {
    return elt.getAttribute('data-src-hd');
  }
}
</script>
<img
  src=img/lowhd.jpg
  data-src-hd=img/hd.jpg
  onload=lzldHidpi(this) />

<p><strong>Code</strong>:</p>

<script src="https://gist.github.com/vvo/3dbd113dfc43522102b4.js"></script>

<h3>That's all folks!</h3>

<p>Now you get a good idea of different ways to use <a href="https://github.com/vvo/lazyload">vvo/lazyload</a>.</p>

<p>For even more ways, read the docs, post issues, contribute.</p>

<p>Lazyload is fully unit-tested using Mocha as you have seen.</p>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/vvo">vvo</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-246396-13");
      pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
